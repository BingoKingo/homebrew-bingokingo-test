cask "font-shanggu-sans" do
  version "1.027"
  sha256 "efa6c817ec7740bd8453de72bf5afd3bc4f042060835c88f46c39aef77e5dc4c"

  url "https://github.com/GuiWonder/Shanggu/releases/download/#{version}/ShangguSans-VF_OTCTTC.7z"
  name "Shangu Sans"
  name "尙古黑体"
  homepage "https://github.com/GuiWonder/Shanggu/"

  livecheck do
    url "https://github.com/GuiWonder/Shanggu/releases"
    regex(%r{href="/GuiWonder/Shanggu/releases/tag/([0-9.]+)"})
    strategy :page_match
  end

  font "ShangguSans.ttc"

  preflight do
    FileUtils.mv "#{staged_path}/ShangguSans-VF.ttf.ttc",
                 "#{staged_path}/ShangguSans.ttc"
  end

  caveats do
    license "https://scripts.sil.org/OFL"
    <<~EOS
      You can preview font information generated by `otfinfo` at:
        #{__dir__}/#{token}.otfinfo
    EOS
  end
end
